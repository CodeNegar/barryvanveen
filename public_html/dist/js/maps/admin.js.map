{"version":3,"sources":["autosize.js","ajaxq.js","admin.js"],"names":["global","factory","define","amd","exports","module","mod","autosize","this","assign","ta","init","style","window","getComputedStyle","resize","heightOffset","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","update","changeOverflow","value","width","offsetWidth","overflowY","getParentOverflows","el","arr","parentNode","Element","scrollTop","push","node","originalHeight","height","overflows","docTop","document","documentElement","endHeight","scrollHeight","clientWidth","forEach","computed","computedHeight","Math","round","styleHeight","cachedHeight","evt","createEvent","dispatchEvent","nodeName","set","has","pageResize","destroy","removeEventListener","Object","keys","key","bind","overflowX","wordWrap","addEventListener","add","Set","list","Boolean","indexOf","delete","splice","name","Event","e","initEvent","options","Array","prototype","call","length","x","require","jQuery","$","queues","activeReqs","ajaxq","qname","opts","enqueue","cb","xhr","dequeue","nextCallback","shift","deferred","Deferred","promise","success","done","error","fail","complete","always","deferredOpts","clonedOptions","extend","jqXHR","ajax","apply","resolve","arguments","reject","each","i","method","url","data","callback","type","isFunction","undefined","dataType","isQueueRunning","hasOwnProperty","isAnyQueueRunning","isRunning","getActiveRequest","abort","current","clear","Barryvanveen","admin","callTimer","initClickableTableRows","initAutosizeTextareas","initMarkdownEditors","initCharacterCounters","initLogModal","mousedown","preventDefault","which","win","open","focus","location","abortPostQueue","queue","MarkdownEditor","element","$input","$preview","inputname","attr","updateMarkdownEditor","clearTimeout","setTimeout","postq","markdownToHtmlRoute","markdown","val","html","Prism","highlightAll","keyup","index","editor","CharacterCounter","$counter","updateCounter","counter","on","event","button","relatedTarget","level","text","file","stack","modal","find"],"mappings":"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","file":"admin.js","sourcesContent":["/*!\n\tAutosize 3.0.17\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['exports', 'module'], factory);\n\t} else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n\t\tfactory(exports, module);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod.exports, mod);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (exports, module) {\n\t'use strict';\n\n\tvar set = typeof Set === 'function' ? new Set() : (function () {\n\t\tvar list = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn Boolean(list.indexOf(key) > -1);\n\t\t\t},\n\t\t\tadd: function add(key) {\n\t\t\t\tlist.push(key);\n\t\t\t},\n\t\t\t'delete': function _delete(key) {\n\t\t\t\tlist.splice(list.indexOf(key), 1);\n\t\t\t} };\n\t})();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name);\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function (name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || set.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = ta.clientWidth;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\n\t\t\tresize();\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop });\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tvar originalHeight = ta.style.height;\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = 'auto';\n\n\t\t\tvar endHeight = ta.scrollHeight + heightOffset;\n\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\tta.style.height = originalHeight;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tta.style.height = endHeight + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\t\t\tvar computedHeight = Math.round(parseFloat(computed.height));\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\n\t\t\t// The computed height not matching the height set via resize indicates that\n\t\t\t// the max-height has been exceeded, in which case the overflow should be set to visible.\n\t\t\tif (computedHeight !== styleHeight) {\n\t\t\t\tif (computed.overflowY !== 'visible') {\n\t\t\t\t\tchangeOverflow('visible');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== computedHeight) {\n\t\t\t\tcachedHeight = computedHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\tta.dispatchEvent(evt);\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = (function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\t\t\tset['delete'](ta);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\t\t}).bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap });\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tset.add(ta);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tif (!(ta && ta.nodeName && ta.nodeName === 'TEXTAREA')) return;\n\t\tvar evt = createEvent('autosize:destroy');\n\t\tta.dispatchEvent(evt);\n\t}\n\n\tfunction update(ta) {\n\t\tif (!(ta && ta.nodeName && ta.nodeName === 'TEXTAREA')) return;\n\t\tvar evt = createEvent('autosize:update');\n\t\tta.dispatchEvent(evt);\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function (el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\tmodule.exports = autosize;\n});","// AjaxQ jQuery Plugin\r\n// Copyright (c) 2012 Foliotek Inc.\r\n// MIT License\r\n// https://github.com/Foliotek/ajaxq\r\n// Uses CommonJS, AMD or browser globals to create a jQuery plugin.\r\n\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['jquery'], factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node/CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n    var queues = {};\r\n    var activeReqs = {};\r\n\r\n    // Register an $.ajaxq function, which follows the $.ajax interface, but allows a queue name which will force only one request per queue to fire.\r\n    // opts can be the regular $.ajax settings plainObject, or a callback returning the settings object, to be evaluated just prior to the actual call to $.ajax.\r\n    $.ajaxq = function(qname, opts) {\r\n\r\n        if (typeof opts === \"undefined\") {\r\n            throw (\"AjaxQ: queue name is not provided\");\r\n        }\r\n\r\n        // Will return a Deferred promise object extended with success/error/callback, so that this function matches the interface of $.ajax\r\n        var deferred = $.Deferred(),\r\n            promise = deferred.promise();\r\n\r\n        promise.success = promise.done;\r\n        promise.error = promise.fail;\r\n        promise.complete = promise.always;\r\n\r\n        // Check whether options are to be evaluated at call time or not.\r\n        var deferredOpts = typeof opts === 'function';\r\n        // Create a deep copy of the arguments, and enqueue this request.\r\n        var clonedOptions = !deferredOpts ? $.extend(true, {}, opts) : null;\r\n        enqueue(function() {\r\n            // Send off the ajax request now that the item has been removed from the queue\r\n            var jqXHR = $.ajax.apply(window, [deferredOpts ? opts() : clonedOptions]);\r\n\r\n            // Notify the returned deferred object with the correct context when the jqXHR is done or fails\r\n            // Note that 'always' will automatically be fired once one of these are called: http://api.jquery.com/category/deferred-object/.\r\n            jqXHR.done(function() {\r\n                deferred.resolve.apply(this, arguments);\r\n            });\r\n            jqXHR.fail(function() {\r\n                deferred.reject.apply(this, arguments);\r\n            });\r\n\r\n            jqXHR.always(dequeue); // make sure to dequeue the next request AFTER the done and fail callbacks are fired\r\n\r\n            return jqXHR;\r\n        });\r\n\r\n        return promise;\r\n\r\n\r\n        // If there is no queue, create an empty one and instantly process this item.\r\n        // Otherwise, just add this item onto it for later processing.\r\n        function enqueue(cb) {\r\n            if (!queues[qname]) {\r\n                queues[qname] = [];\r\n                var xhr = cb();\r\n                activeReqs[qname] = xhr;\r\n            }\r\n            else {\r\n                queues[qname].push(cb);\r\n            }\r\n        }\r\n\r\n        // Remove the next callback from the queue and fire it off.\r\n        // If the queue was empty (this was the last item), delete it from memory so the next one can be instantly processed.\r\n        function dequeue() {\r\n            if (!queues[qname]) {\r\n                return;\r\n            }\r\n            var nextCallback = queues[qname].shift();\r\n            if (nextCallback) {\r\n                var xhr = nextCallback();\r\n                activeReqs[qname] = xhr;\r\n            }\r\n            else {\r\n                delete queues[qname];\r\n                delete activeReqs[qname];\r\n            }\r\n        }\r\n    };\r\n\r\n    // Register a $.postq and $.getq method to provide shortcuts for $.get and $.post\r\n    // Copied from jQuery source to make sure the functions share the same defaults as $.get and $.post.\r\n    $.each( [ \"getq\", \"postq\" ], function( i, method ) {\r\n        $[ method ] = function( qname, url, data, callback, type ) {\r\n\r\n            if ( $.isFunction( data ) ) {\r\n                type = type || callback;\r\n                callback = data;\r\n                data = undefined;\r\n            }\r\n\r\n            return $.ajaxq(qname, {\r\n                type: method === \"postq\" ? \"post\" : \"get\",\r\n                url: url,\r\n                data: data,\r\n                success: callback,\r\n                dataType: type\r\n            });\r\n        };\r\n    });\r\n\r\n    var isQueueRunning = function(qname) {\r\n        return (queues.hasOwnProperty(qname) && queues[qname].length > 0) || activeReqs.hasOwnProperty(qname);\r\n    };\r\n\r\n    var isAnyQueueRunning = function() {\r\n        for (var i in queues) {\r\n            if (isQueueRunning(i)) return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    $.ajaxq.isRunning = function(qname) {\r\n        if (qname) return isQueueRunning(qname);\r\n        else return isAnyQueueRunning();\r\n    };\r\n\r\n    $.ajaxq.getActiveRequest = function(qname) {\r\n        if (!qname) throw (\"AjaxQ: queue name is required\");\r\n\r\n        return activeReqs[qname];\r\n    };\r\n\r\n    $.ajaxq.abort = function(qname) {\r\n        if (!qname) throw (\"AjaxQ: queue name is required\");\r\n        \r\n        var current = $.ajaxq.getActiveRequest(qname);\r\n        delete queues[qname];\r\n        delete activeReqs[qname];\r\n        if (current) current.abort();\r\n    };\r\n\r\n    $.ajaxq.clear = function(qname) {\r\n        if (!qname) {\r\n            for (var i in queues) {\r\n                if (queues.hasOwnProperty(i)) {\r\n                    queues[i] = [];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (queues[qname]) {\r\n                queues[qname] = [];\r\n            }\r\n        }\r\n    };\r\n\r\n}));\r\n","window.Barryvanveen = window.Barryvanveen || {};\r\n\r\nwindow.Barryvanveen.admin = function() {\r\n\r\n    // timers to keep track of ajax-calls that are scheduled\r\n    window.Barryvanveen.callTimer = [];\r\n\r\n\twindow.Barryvanveen.initClickableTableRows();\r\n    window.Barryvanveen.initAutosizeTextareas();\r\n\twindow.Barryvanveen.initMarkdownEditors();\r\n    window.Barryvanveen.initCharacterCounters();\r\n    window.Barryvanveen.initLogModal();\r\n\r\n};\r\n\r\n/**\r\n * init clickable table rows\r\n */\r\nwindow.Barryvanveen.initClickableTableRows = function() {\r\n\r\n    $('.js-clickable-row').mousedown(function(e) {\r\n        e.preventDefault();\r\n\r\n        // middle mouseclick, open in new window\r\n        if (e.which == 2) {\r\n            var win = window.open($(this).data('href'), '_blank');\r\n            if (win) {\r\n                win.focus();\r\n            }\r\n            return;\r\n        }\r\n        window.document.location = $(this).data(\"href\");\r\n    });\r\n\r\n};\r\n\r\n/**\r\n * init autosize on textareas\r\n */\r\nwindow.Barryvanveen.initAutosizeTextareas = function() {\r\n\r\n    autosize($('textarea'));\r\n\r\n};\r\n\r\n/**\r\n * cancel all posts to a named queue\r\n */\r\nwindow.Barryvanveen.abortPostQueue = function(queue) {\r\n\r\n    $.ajaxq.abort(queue);\r\n\r\n};\r\n\r\n/**\r\n * turn an element into a markdown editor\r\n *\r\n * @param element\r\n */\r\nwindow.Barryvanveen.MarkdownEditor = function(element) {\r\n\r\n    // store elements\r\n    var $input = $(element);\r\n    var $preview = $('div[data-markdown-editor-name=' + element.name + ']');\r\n    var inputname = $input.attr('name');\r\n\r\n    // update the html-preview\r\n    this.updateMarkdownEditor = function () {\r\n\r\n        // clear any timers for this inputname\r\n        if (typeof(window.Barryvanveen.callTimer[inputname]) !== \"undefined\") {\r\n            clearTimeout(window.Barryvanveen.callTimer[inputname]);\r\n        }\r\n\r\n        // start a timer for this particular input, once the timer runs out\r\n        // the html will be requested from the server\r\n        window.Barryvanveen.callTimer[inputname] = setTimeout(function() {\r\n\r\n            // abort all pending requests for this input field\r\n            Barryvanveen.abortPostQueue($input.attr('name'));\r\n\r\n            // make a new ajax post to retrieve html for this markdown\r\n            $.postq(inputname, Barryvanveen.markdownToHtmlRoute, {markdown: $input.val()}, function(data) {\r\n\r\n                // update the preview with retrieved html\r\n                $preview.html(data.html);\r\n                // use Prism for syntax highlighting in preview\r\n                Prism.highlightAll();\r\n\r\n            }, 'json');\r\n\r\n        }, 1000);\r\n\r\n    };\r\n\r\n    // update the html preview on keyUp\r\n    $input.keyup(this.updateMarkdownEditor);\r\n\r\n    // start with filling the preview\r\n    this.updateMarkdownEditor();\r\n\r\n};\r\n\r\n/**\r\n * init markdown editors\r\n */\r\nwindow.Barryvanveen.initMarkdownEditors = function() {\r\n\r\n    $('textarea.js-markdown-editor').each(function(index, element) {\r\n        window.Barryvanveen.editor = new window.Barryvanveen.MarkdownEditor(element);\r\n    });\r\n\r\n};\r\n\r\n/**\r\n * turn an element into a character counter\r\n *\r\n * @param element\r\n */\r\nwindow.Barryvanveen.CharacterCounter = function(element) {\r\n\r\n    // store elements\r\n    var $counter = $(element);\r\n    var inputname = $counter.data('character-counter-name');\r\n    var $input = $('textarea[name=\"'+inputname+'\"]');\r\n\r\n    // update the ounter\r\n    this.updateCounter = function () {\r\n        $counter.html($input.val().length);\r\n    };\r\n\r\n    // update the counter on keyUp\r\n    $input.keyup(this.updateCounter);\r\n\r\n    // start with filling the counter\r\n    this.updateCounter();\r\n\r\n};\r\n\r\n/**\r\n * init character counters\r\n */\r\nwindow.Barryvanveen.initCharacterCounters = function() {\r\n\r\n    $('.js-character-counter').each(function(index, element) {\r\n        window.Barryvanveen.counter = new window.Barryvanveen.CharacterCounter(element);\r\n    });\r\n\r\n};\r\n\r\n\r\n/**\r\n * init log table\r\n */\r\nwindow.Barryvanveen.initLogModal = function() {\r\n\r\n    // handle clicks to open a bootstrap modal with full exception stack\r\n    $('#logModal').on('show.bs.modal', function (event) {\r\n\r\n        // Button that triggered the modal\r\n        var button = $(event.relatedTarget);\r\n\r\n        // Extract info from data-* attributes\r\n        var level = button.data('level');\r\n        var text = button.data('text');\r\n        var file = button.data('file');\r\n        var stack = button.data('stack');\r\n\r\n        // Update the modal's content\r\n        var modal = $(this);\r\n        modal.find('.modal-title').html(level + \": \" + text);\r\n        modal.find('.modal-body').html(\"<small>In file \" + file + \"<br><br>\" + stack + \"</small>\");\r\n\r\n    });\r\n\r\n};\r\n\r\n/**\r\n * start scripts\r\n */\r\nwindow.Barryvanveen.admin();"],"sourceRoot":"/source/"}